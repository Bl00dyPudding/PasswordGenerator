const lowercase=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],uppercase=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],numbers=["0","1","2","3","4","5","6","7","8","9"],symbols=["!","@","#","$","%","^","&","*","(",")","_","+","{","}","?","~","-","="];let makeItRandom=(e,t)=>Math.random()-.5,randomInteger=(e,t)=>{let n=e-.5+Math.random()*(t-e+1);return Math.round(n)},rangeValue=e=>{if("range"===e.target.id&&(console.log(e),64!=document.getElementById("range").getAttribute("max")&&document.getElementById("range").setAttribute("max","64"),6!=document.getElementById("range").getAttribute("min")&&document.getElementById("range").setAttribute("min","6"),document.getElementById("rangeValue").value=document.getElementById("range").value),"rangeValue"===e.target.id&&(isNaN(document.getElementById("rangeValue").value)&&(document.getElementById("rangeValue").value=6),document.getElementById("rangeValue").value<6&&(document.getElementById("rangeValue").value=6),document.getElementById("rangeValue").value>64&&(document.getElementById("rangeValue").value=64),document.getElementById("range").value=document.getElementById("rangeValue").value),document.getElementById("checkbox-lowercase").checked||document.getElementById("checkbox-uppercase").checked||document.getElementById("checkbox-numbers").checked||document.getElementById("checkbox-symbols").checked){const e=document.getElementById("generatePassword");e.disabled=!1,e.getAttribute("value")?e.innerText="Хочу другой":e.innerText="Сгенерировать"}else{const e=document.getElementById("generatePassword");e.innerText="Выбери что-то",e.disabled=!0}},generatePassword=e=>{if("generatePassword"===e.target.id){let e=[];document.getElementById("checkbox-lowercase").checked&&(e=e.concat(lowercase)),document.getElementById("checkbox-uppercase").checked&&(e=e.concat(uppercase)),document.getElementById("checkbox-numbers").checked&&(e=e.concat(numbers)),document.getElementById("checkbox-symbols").checked&&(e=e.concat(symbols)),e.sort(makeItRandom);const t=parseInt(document.getElementById("rangeValue").value);(t>64||t<6)&&console.log("Да кому нужен такой пароль?");let n="";for(let d=0;d<t;d++)n+=e[randomInteger(0,e.length-1)];let d=document.createElement("div");d.classList.add("password");let a=document.createElement("p");a.id="toCopy",a.innerText=n;let c=document.createElement("button");c.classList.add("copy"),c.id="copy",c.innerText="Скопировать",d.appendChild(a),d.appendChild(c),d=d.outerHTML,document.querySelector(".generatedPassword").innerHTML=d,document.getElementById("generatePassword").getAttribute("value")||(document.getElementById("generatePassword").setAttribute("value","clicked"),document.getElementById("generatePassword").innerText="Хочу другой")}if("copy"===e.target.id)if(navigator.clipboard){const e=document.getElementById("toCopy").innerText;e&&navigator.clipboard.writeText(e).then(()=>{document.getElementById("copy").innerText="Скопировано"}).catch(e=>{console.log("Что-то пошло не по плану :(",e)})}else{const e=document.getElementById("toCopy");let t=document.createRange();t.selectNode(e),window.getSelection().addRange(t);try{document.execCommand("copy"),document.getElementById("copy").innerText="Скопировано"}catch(e){console.log("Что-то пошло не по плану :(")}window.getSelection().removeAllRanges()}};document.addEventListener("touchmove",rangeValue),document.addEventListener("mousemove",rangeValue),document.addEventListener("change",rangeValue),document.addEventListener("click",generatePassword);